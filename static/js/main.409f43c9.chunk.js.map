{"version":3,"sources":["header.js","footer.js","if.js","form.js","results.js","history.js","app.js","index.js"],"names":["Header","id","activeClassName","exact","to","React","Component","Footer","If","props","condition","children","render","Form","state","method","url","loading","handleChange","bind","handleSubmit","handleOption","event","this","setState","target","value","preventDefault","restOptions","fetch","results","json","console","log","headers","JSON","stringify","data","apiCall","body","handler","nextProps","onSubmit","type","placeholder","name","onChange","className","onClick","autoFocus","Results","handlePopulate","innerHTML","info","split","populate","items","archive","map","item","idx","key","History","handleRedirect","history","push","extractContent","s","span","document","createElement","textContent","innerText","handleReRun","a","getElementById","toggleDetails","temp","details","withRouter","App","handleForm","localStorage","setItem","archiveHistory","populateForm","getHistory","parse","getItem","path","rootElement","ReactDOM"],"mappings":"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","file":"static/js/main.409f43c9.chunk.js","sourcesContent":["import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nclass Header extends React.Component {\n  // constructor(props) {\n  //   super(props);\n  // }\n\n  render() {\n    return (\n      <div id='header'>\n        <h1>RESTy</h1>\n        <nav>\n          <ul>\n            <li><NavLink activeClassName='selected' exact to=\"/\">Home</NavLink></li>\n            <li><NavLink activeClassName='selected' exact to=\"/history\">History</NavLink></li>\n          </ul>\n        </nav>\n  \n      </div>\n    );\n  }\n}\n\nexport default Header;","import React from 'react';\nimport './design/form.scss';\n\nclass Footer extends React.Component {\n  \n\n  render() {\n    return (\n      <div id='footer'>\n        <p>&copy; 2020 Marlene Rinker</p>\n      </div>\n    );\n  }\n}\n\nexport default Footer;","\n\nconst render = (condition = false, children = null) => {\n  return condition ? children : null;\n};\n\nconst If = (props) => {\n  return render(props.condition, props.children);\n};\nexport default If;","import React from 'react';\nimport If from './if.js';\n\nclass Form extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      method: 'GET',\n      url: '',\n      loading: false,\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleOption = this.handleOption.bind(this);\n  }\n\n\n  handleChange(event) {\n    this.setState({url: event.target.value});\n  }\n\n  handleOption(event) {\n    event.preventDefault();\n    this.setState({method: event.target.value});\n  }\n\n  \n  async handleSubmit(event) {\n    try {\n      event.preventDefault();\n      this.setState({ loading: true});\n      let restOptions = {\n        method: this.state.method,\n      };\n      let results = await fetch(this.state.url, restOptions);\n      let json = await results.json();\n      this.setState( { loading: false});\n      console.log(results);\n      console.log(json);\n  \n      let headers = JSON.stringify(results.headers, null, 2);\n      let data = JSON.stringify(json, null, 2);\n      let apiCall = {method: this.state.method, url: this.state.url, body: data};\n      this.props.handler(headers, data, apiCall);\n      \n      \n      \n\n    }\n    catch (error) {\n      this.setState( {loading: false});\n      let headers = {};\n      let data = 'An error occurred. Try again.';\n      let apiCall = null;\n      this.props.handler(headers, data, apiCall);\n    }  \n       \n  }\n  UNSAFE_componentWillReceiveProps(nextProps){\n    if(nextProps.url!==this.props.url){\n      this.setState({url: nextProps.url });  \n    }\n    if(nextProps.method!==this.props.method){\n      this.setState({method: nextProps.method });  \n    }\n  }\n  \n\n  render() {\n    \n    return (\n      <div id='form'>\n        <form onSubmit={this.handleSubmit}>\n          <label>URL:</label>\n          <input type=\"text\" id=\"url\" placeholder=\"http://api.url.here\" name=\"url\"  value={this.state.url} onChange={this.handleChange}></input>\n          <input className=\"action\" type=\"submit\" value=\"GO!\" ></input><br></br>\n          <input className=\"button\" type=\"button\" value=\"GET\" onClick={this.handleOption} autoFocus></input>\n          <input className=\"button\" type=\"button\" value=\"POST\" onClick={this.handleOption}></input>\n          <input className=\"button\" type=\"button\" value=\"PUT\" onClick={this.handleOption}></input>\n          <input className=\"button\" type=\"button\" value=\"DELETE\" onClick={this.handleOption}></input>\n        </form>\n        <If condition={this.state.loading === true}>\n          <section className=\"spinner\">\n            <i className=\"fa fa-spinner fa-spin\" />\n          </section>\n        </If>\n      </div>\n    );\n  }\n}\n\nexport default Form;","import React from 'react';\nimport JSONPretty from 'react-json-pretty';\nimport If from './if.js';\n\n\nclass Results extends React.Component {\n  // TODO: populate the URL and method on the form when you click one of the history results\n  \n  handlePopulate = (event) => {\n    console.log(event.target.innerHTML);\n    let element = event.target.innerHTML;\n    let info = element.split(' ');\n    let method = info[0];\n    let url = info[1];\n    console.log('method is ', method);\n    console.log('url is ', url);\n    this.props.populate(method, url);\n  };\n\n  render() {\n    let headers = this.props.headers;\n    let items = this.props.data;\n    let apiCall = this.props.archive;\n    return (\n      <div id = 'results'>\n        <section id = 'history'>\n          <ul>\n            {apiCall.map((item, idx) => {\n              return (\n                <li key={idx} id={idx}>\n                  <JSONPretty id=\"json-pretty\" data={item.method + ' ' + item.url} onClick={this.handlePopulate}></JSONPretty>\n                </li>\n            \n              );\n            })}\n          </ul>\n        </section>\n\n        <If condition={items}>\n          <section id = 'details'>\n            <ul id='headers'>\n              <JSONPretty id=\"json-pretty\" data={headers}></JSONPretty>\n            </ul>\n            <ul id='items'>\n                    \n              <JSONPretty id=\"json-pretty\" data={items}></JSONPretty>\n                       \n            </ul>\n          </section>\n        </If>\n      </div>\n                \n    );\n              \n  }\n}\n\n\n\nexport default Results;","import React from 'react';\nimport JSONPretty from 'react-json-pretty';\nimport If from './if.js';\nimport { withRouter } from 'react-router-dom';\n\n\nclass History extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      details: []\n    }\n    \n    \n  }\n\n  handleRedirect = () => {\n    this.props.history.push('/');\n  }\n\n  extractContent = (s) => {\n    var span = document.createElement('span');\n    span.innerHTML = s;\n    return span.textContent || span.innerText;\n  };\n\n  // TODO: implement the handle re-run functionality - should re-run the API call and redirect to results page\n  handleReRun = async(event) => {\n   \n    console.log('handling re-run');\n    let item = document.getElementById(`${event.target.className}call`);\n\n    \n    let info = this.extractContent(item.innerHTML).split(' ');\n    let method = info[0];\n    let url = info[1];\n    console.log('method is ', method);\n    console.log('url is ', url);\n    await this.handleRedirect();\n    await this.props.populate(method, url);\n  };\n\n  toggleDetails = (idx) => {    \n    \n    let temp = this.state.details;\n    temp[idx] = !temp[idx];\n    this.setState( {details: temp});\n    \n  }\n\n\n  render() {\n    let apiCall = this.props.archive;\n    console.log('this is apiCall in history', apiCall);\n    return (\n      <div id='history'>\n        <p>This is your history!</p>\n        <section id='api-calls'>\n          <ul>\n          {apiCall.map((item, idx) => {\n          return (\n            <li key={idx} id={idx}>\n              <JSONPretty id={idx + 'call'} data={item.method + ' ' + item.url} onClick={() => this.toggleDetails(idx)}></JSONPretty>\n              <If condition={this.state.details[idx] === true}>\n              <input className= {idx} type=\"button\" value=\"Re-run\" onClick={this.handleReRun}></input>\n              <JSONPretty className={idx} data={item.body}></JSONPretty>\n              </If>\n            </li>\n            \n          );\n        })}\n          </ul>\n        </section>\n      </div>\n    );\n  }\n}\n\n\nexport default withRouter(History);","import React from 'react';\nimport Header from './header.js';\nimport Footer from './footer.js';\nimport Form from './form.js';\nimport Results from './results.js';\nimport History from './history.js';\nimport { BrowserRouter, Route } from 'react-router-dom';\n\n\nimport './design/app.scss';\nimport './design/footer.scss';\nimport './design/header.scss';\nimport './design/form.scss';\nimport './design/results.scss';\n\n\n\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      headers: '',\n      data: '',\n      history: [],\n      archive: [],\n      method: '',\n      url: ''\n    }\n    this.getHistory = this.archiveHistory.bind(this);\n  };\n\n\n\n  handleForm = (headers, data, apiCall) => {\n    this.setState( { headers, data } );\n    if (apiCall){\n    this.state.history.push(apiCall);\n    localStorage.setItem('history', JSON.stringify(this.state.history));\n    this.archiveHistory();\n    } \n  };\n\n  populateForm = async(method, url) => {\n    await this.setState({ method: method, url: url });\n    \n  }\n\n  async archiveHistory() {\n    let history = await JSON.parse(localStorage.getItem('history'));\n    this.setState( {archive: history});\n  }\n\n  render() {\n    return (\n      <div>\n        <BrowserRouter>\n          <Header />\n          <Route exact path=\"/\">\n            <Form handler={this.handleForm} method={this.state.method} url={this.state.url}/>\n            <Results headers={this.state.headers} data={this.state.data} archive={this.state.archive} populate={this.populateForm}/>\n          </Route>\n          <Route exact path=\"/history\">\n            <History archive={this.state.archive} populate={this.populateForm}/>\n          </Route>\n          <Footer />\n        </BrowserRouter>\n      </div>\n    );\n  }\n}\n\n\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './app.js';\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(<App />, rootElement);"],"sourceRoot":""}